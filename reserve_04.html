<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Согласие на обработку ПДн</title>

  <!-- Подключение Telegram WebApp API -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background-color: #ffffff;
      color: #333;
      line-height: 1.5;
      padding: 20px;
    }

    h1 {
      font-size: 1.4em;
      text-align: center;
      margin-bottom: 24px;
      font-weight: 600;
      color: #1a1a1a;
    }

    .accordion {
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
      background: #fff;
      margin-bottom: 16px;
    }

    .accordion-header {
      padding: 16px;
      background-color: #f8f9fa;
      cursor: pointer;
      font-weight: 600;
      font-size: 1.1em;
      border-bottom: 1px solid #eaeaea;
      text-align: center;
    }

    .expand-hint {
      font-size: 1.2em; /* увеличено в 2 раза */
      color: #888;
      text-align: center;
      padding: 10px 16px;
    }

    .accordion-body {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.4s ease, opacity 0.3s ease;
      opacity: 0;
    }

    .accordion-body pre {
      white-space: pre-wrap;
      font-family: inherit;
      background: #f5f7fa;
      padding: 14px;
      border-radius: 8px;
      border-left: 4px solid #007BFF;
      margin: 10px 0;
      font-size: 0.95em;
      line-height: 1.5;
    }

    .accordion.active .accordion-body {
      max-height: 1000px;
      opacity: 1;
      padding: 16px;
    }

    .consent-buttons {
      text-align: center;
      margin-top: 30px;
      padding-top: 20px;
      border-top: 1px solid #dee2e6;
    }

    .btn-consent {
      padding: 12px 24px;
      border: none;
      border-radius: 8px;
      background-color: #28a745;
      color: white;
      cursor: pointer;
      font-size: 18px; /* больше */
      margin: 10px;
      transition: all 0.3s;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: calc(100% - 20px);
      max-width: 320px;
    }

    .btn-deny {
      background-color: #dc3545;
      font-size: 16px;
      padding: 10px 20px;
    }

    .btn-consent:hover {
      opacity: 0.9;
      transform: scale(1.02);
    }
  </style>
</head>
<body>

  <h1>Согласие на обработку персональных данных</h1>

  <div class="accordion">
    <div class="accordion-header">Согласие на обработку ПДн</div>
    <div class="expand-hint">Нажмите, чтобы развернуть</div>
    <div class="accordion-body">
      <pre>
Соглашение о сборе, обработке и передаче персональных данных — для Клиента (Заказчика)
Общие положения
1.1. Настоящее Соглашение об обработке персональных данных (далее — «Соглашение») определяет порядок, цели и условия обработки персональных данных Пользователя (Заказчика) в рамках использования Telegram-бота «[НАЗВАНИЕ]» (далее — «Платформа»).
1.2. Оператор персональных данных — [ООО/ИП, ФИО, ИНН, адрес], контакт: [email/телефон].
1.3. Под персональными данными понимаются сведения, позволяющие прямо или косвенно идентифицировать физическое лицо: ФИО, телефон, адрес (адрес подъезда/квартира/этаж — в объёме, который укажет заказчик), данные заказа (дата/время/объём), а также иные данные, которые Заказчик предоставляет при создании заказа.
Цели обработки
2.1. Обработка ПД осуществляется для:
- поиска и передачи заказа Исполнителям;
- связи исполнителя и заказчика (контакты для согласования);
- информирования Заказчика о статусе заказа;
- выполнения обязательств по предоставлению сервиса.
Правовые основания
3.1. Правовым основанием обработки являются: согласие субъекта персональных данных (ст. 9 ФЗ-152) и необходимость выполнения договора/предоставления услуги.
Порядок и объём обрабатываемых данных
4.1. Обрабатываются только минимально необходимые данные: имя, телефон, адрес, параметры заказа.
4.2. Данные не собираются сверх целей в п.2.
Передача данных третьим лицам
5.1. Оператор вправе передавать необходимые данные Исполнителю, выбранному для выполнения заказа — исключительно в целях исполнения заказа.
5.2. Данные также могут передаваться платежным агрегаторам и операторам связи только при необходимости.
Срок хранения
6.1. Данные, необходимые для исполнения заказа, хранятся в течение срока исполнения + 6 месяцев (или другой срок, указать).
6.2. Данные аналитики — анонимизированы и хранятся до [указать срок].
Права субъекта ПД
7.1. Заказчик вправе: получать информацию о ПД, требовать исправления/удаления/ограничения обработки, отозвать согласие.
Безопасность
8.1. Оператор обеспечивает технические и организационные меры защиты (шифрование, ограничение доступа, логи).
Согласие
9.1. «Нажимая «Принять», я, [ФИО], даю согласие [Название оператора] на сбор, обработку и передачу моих персональных данных в целях выполнения заказа и связи с исполнителем. Я ознакомлен(а) с политикой конфиденциальности [ссылка].»</pre>
    </div>
  </div>

  <div class="consent-buttons">
    <button id="acceptBtn" class="btn-consent">✅ Принять</button>
    <button id="denyBtn" class="btn-consent btn-deny">❌ Отказаться</button>
  </div>

  <script>
    document.querySelectorAll('.accordion-header').forEach(header => {
      header.addEventListener('click', () => {
        header.parentElement.classList.toggle('active');
      });
    });

    function sendData(data) {
      if (window.Telegram && window.Telegram.WebApp) {
        Telegram.WebApp.sendData(data);
        Telegram.WebApp.close();
      } else {
        alert("Режим теста: " + data);
        if (window.close) window.close();
      }
    }

    document.getElementById('acceptBtn').addEventListener('click', () => sendData("accepted"));
    document.getElementById('denyBtn').addEventListener('click', () => sendData("declined"));
  </script>

</body>
</html>
